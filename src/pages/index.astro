---
import Main from '../layout/main.astro'
import '../style/index.css'

import hero from "/hero_page.jpg"
import house_done from '/IMG_3563.jpeg'
import house_process from '/IMG_3554.jpeg'

---

<Main>
	<section id="wrapper" class="skewed">
		<div class="layer bottom">
		  <div class="content-wrap">
			<img src={house_done} alt="Before">
		  </div>
		</div>
		<div class="layer top">
		  <div class="content-wrap">
			<img src={house_process} alt="After">
		  </div>
		</div>
		<div class="handle"></div>
	  </section>
	  
	<div class = 'parallax'></div>

	<div style="min-height:100vw ;">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ipsa provident excepturi optio ea. Soluta velit cumque quae impedit vero consequuntur molestiae possimus assumenda aperiam! Ipsam amet nam quis suscipit quasi!</div>

	  <script is:inline>
		document.addEventListener('DOMContentLoaded', function() {
			let wrapper = document.getElementById('wrapper'); 
			let topLayer = wrapper.querySelector('.top');
			let handle = wrapper.querySelector('.handle');
			let skew = 0;
			let delta = 0;
			
			if(wrapper.className.indexOf('skewed') != -1){
			skew = 1000;
			}
			
			wrapper.addEventListener('mousemove', function(e){
			delta = (e.clientX - window.innerWidth / 2) * 0.5;
			
			handle.style.left = e.clientX + delta + 'px';  
			
			topLayer.style.width = e.clientX + skew + delta + 'px'; 
			
			});                         
									
									
			});
	  </script>
</Main>